{"version":3,"sources":["../rr_test_pomo.js"],"names":["projectName","localStorage","setItem","TimerLengthControl","props","titleID","title","minID","onClick","lengthID","length","addID","React","Component","Timer","state","brkLength","seshLength","timerState","timerType","timer","intervalID","alarmColor","color","setBrkLength","bind","setSeshLength","lengthControl","timerControl","beginCountDown","decrementTimer","phaseControl","warning","buzzer","switchTimer","clockify","reset","e","currentTarget","value","stateToChange","sign","currentLength","setState","control","cancel","accurateInterval","_timer","warn","audioBeep","play","num","str","minutes","Math","floor","seconds","pause","currentTime","audio","ReactDOM","render","document","getElementById"],"mappings":"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","sourcesContent":["\n// coded by @no-stack-dub-sack (github) / @no_stack_sub_sack (codepen)\n\n/** NOTES:\n /** Dependencies are React, ReactDOM, and\n Accurate_Interval.js by Squuege (external script\n to keep setInterval() from drifting over time &\n thus ensuring timer goes off at correct mark).\n /** Utilizes embedded <Audio> tag to ensure audio\n plays when timer tab is inactive or browser is\n minimized ( rather than new Audio().play() ).\n /** Audio of this fashion not supported on most\n mobile devices it would seem (bummer I know).\n **/\n\n// PROJECTOR SELECTOR FOR EXTERNAL TEST SCRIPT:\nconst projectName = 'pomodoro-clock';\nlocalStorage.setItem('example_project', 'Pomodoro Clock');\n\n// COMPONENTS:\nclass TimerLengthControl extends React.Component {\n  render() {\n    return (\n        <div className=\"length-control\">\n          <div id={this.props.titleID}>\n            {this.props.title}\n          </div>\n          <button id={this.props.minID}\n                  className=\"btn-level\" value=\"-\"\n                  onClick={this.props.onClick}>\n            <i className=\"fa fa-arrow-down fa-2x\"/>\n          </button>\n          <div id={this.props.lengthID} className=\"btn-level\">\n            {this.props.length}\n          </div>\n          <button id={this.props.addID}\n                  className=\"btn-level\" value=\"+\"\n                  onClick={this.props.onClick}>\n            <i className=\"fa fa-arrow-up fa-2x\"/>\n          </button>\n        </div>\n    )\n  }\n};\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      brkLength: 5,\n      seshLength: 25,\n      timerState: 'stopped',\n      timerType: 'Session',\n      timer: 1500,\n      intervalID: '',\n      alarmColor: {color: 'white'}\n    }\n    this.setBrkLength = this.setBrkLength.bind(this);\n    this.setSeshLength = this.setSeshLength.bind(this);\n    this.lengthControl = this.lengthControl.bind(this);\n    this.timerControl = this.timerControl.bind(this);\n    this.beginCountDown = this.beginCountDown.bind(this);\n    this.decrementTimer = this.decrementTimer.bind(this);\n    this.phaseControl = this.phaseControl.bind(this);\n    this.warning = this.warning.bind(this);\n    this.buzzer = this.buzzer.bind(this);\n    this.switchTimer = this.switchTimer.bind(this);\n    this.clockify = this.clockify.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  setBrkLength(e) {\n    this.lengthControl('brkLength', e.currentTarget.value,\n        this.state.brkLength, 'Session');\n  }\n  setSeshLength(e) {\n    this.lengthControl('seshLength', e.currentTarget.value,\n        this.state.seshLength, 'Break');\n  }\n  lengthControl(stateToChange, sign, currentLength, timerType) {\n    if (this.state.timerState == 'running') return;\n    if (this.state.timerType == timerType) {\n      if (sign == \"-\" && currentLength != 1 ) {\n        this.setState({[stateToChange]: currentLength - 1});\n      } else if (sign == \"+\" && currentLength != 60) {\n        this.setState({[stateToChange]: currentLength + 1});\n      }\n    } else {\n      if (sign == \"-\" && currentLength != 1 ) {\n        this.setState({[stateToChange]: currentLength - 1,\n          timer: currentLength * 60 - 60});\n      } else if (sign == \"+\" && currentLength != 60) {\n        this.setState({[stateToChange]: currentLength + 1,\n          timer: currentLength * 60 + 60});\n      }\n    }\n  }\n  timerControl() {\n    let control = this.state.timerState == 'stopped' ? (\n        this.beginCountDown(),\n            this.setState({timerState: 'running'})\n    ) : (\n        this.setState({timerState: 'stopped'}),\n        this.state.intervalID && this.state.intervalID.cancel()\n    );\n  }\n  beginCountDown() {\n    this.setState({\n      intervalID: accurateInterval(() => {\n        this.decrementTimer();\n        this.phaseControl();\n      }, 1000)\n    })\n  }\n  decrementTimer() {\n    this.setState({timer: this.state.timer - 1});\n  }\n  phaseControl() {\n    let timer = this.state.timer;\n    this.warning(timer);\n    this.buzzer(timer);\n    if (timer < 0) {\n      this.state.timerType == 'Session' ? (\n          this.state.intervalID && this.state.intervalID.cancel(),\n              this.beginCountDown(),\n              this.switchTimer(this.state.brkLength * 60, 'Break')\n      ) : (\n          this.state.intervalID && this.state.intervalID.cancel(),\n              this.beginCountDown(),\n              this.switchTimer(this.state.seshLength * 60, 'Session')\n      );\n    }\n  }\n  warning(_timer) {\n    let warn = _timer < 61 ?\n        this.setState({alarmColor: {color: '#a50d0d'}}) :\n        this.setState({alarmColor: {color: 'white'}});\n  }\n  buzzer(_timer) {\n    if (_timer === 0) {\n      this.audioBeep.play();\n    }\n  }\n  switchTimer(num, str) {\n    this.setState({\n      timer: num,\n      timerType: str,\n      alarmColor: {color: 'white'}\n    })\n  }\n  clockify() {\n    let minutes = Math.floor(this.state.timer / 60);\n    let seconds = this.state.timer - minutes * 60;\n    seconds = seconds < 10 ? '0' + seconds : seconds;\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    return minutes + ':' + seconds;\n  }\n  reset() {\n    this.setState({\n      brkLength: 5,\n      seshLength: 25,\n      timerState: 'stopped',\n      timerType: 'Session',\n      timer: 1500,\n      intervalID: '',\n      alarmColor: {color: 'white'}\n    });\n    this.state.intervalID && this.state.intervalID.cancel();\n    this.audioBeep.pause();\n    this.audioBeep.currentTime = 0;\n  }\n  render() {\n    return (\n        <div>\n          <div className=\"main-title\">\n            Pomodoro Clock\n          </div>\n          <TimerLengthControl\n              titleID=\"break-label\"   minID=\"break-decrement\"\n              addID=\"break-increment\" lengthID=\"break-length\"\n              title=\"Break Length\"    onClick={this.setBrkLength}\n              length={this.state.brkLength}/>\n          <TimerLengthControl\n              titleID=\"session-label\"   minID=\"session-decrement\"\n              addID=\"session-increment\" lengthID=\"session-length\"\n              title=\"Session Length\"    onClick={this.setSeshLength}\n              length={this.state.seshLength}/>\n          <div className=\"timer\" style={this.state.alarmColor}>\n            <div className=\"timer-wrapper\">\n              <div id='timer-label'>\n                {this.state.timerType}\n              </div>\n              <div id='time-left'>\n                {this.clockify()}\n              </div>\n            </div>\n          </div>\n          <div className=\"timer-control\">\n            <button id=\"start_stop\" onClick={this.timerControl}>\n              <i className=\"fa fa-play fa-2x\"/>\n              <i className=\"fa fa-pause fa-2x\"/>\n            </button>\n            <button id=\"reset\" onClick={this.reset}>\n              <i className=\"fa fa-refresh fa-2x\"/>\n            </button>\n          </div>\n          <div className=\"author\"> Designed and Coded by <br />\n            <a target=\"_blank\" href=\"https://goo.gl/6NNLMG\">\n              Peter Weinberg\n            </a>\n          </div>\n          <audio id=\"beep\" preload=\"auto\"\n                 src=\"https://goo.gl/65cBl1\"\n                 ref={(audio) => { this.audioBeep = audio; }} />\n        </div>\n    )\n  }\n};\n\nReactDOM.render(<Timer />, document.getElementById('app'));\n\n\n"],"file":"rr_test_pomo.js"}